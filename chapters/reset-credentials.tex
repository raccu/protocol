\section{Reset credentials}
In this section a flow for resetting credentials in case a user looses his/hers
smartphone or no longer has access to it is defined. 

    \subsection{Flow}
    The reset credentials flow is given in Figure ~\ref{fig:resetCredentials} and defined as follows:
        \begin{enumerate}
            \item Mobile MUST request a verification code from the Auth by submitting the email address of the user
                  which is seeking a credentials reset.
            \item Upon receiving a reset credentials request, the Auth MUST dispatch and email with the verification
                  code to the Email.
            \item When the user enters verification code into the Mobile, the Mobile MUST submit the email and 
                  verification code to the Auth for verification. 
            \item After the Auth receives a verify request with the email and verification code from the Mobile, it 
                  MUST send a reset token to the Mobile. 
            \item Mobile  MUST  provide  a  method  to  generate,  store,  and  retrieve public key and an interface 
                  for signing an arbitrary message with the matching private key.
            \item Mobile MUST sign a reset token and the newly generated public key, and send the signature alongside
                  signed parameters.
            \item Auth MUST return the user's name to the Mobile to finish the credentials reset.
        \end{enumerate}
        \input{diagrams/sequence/reset-credentials.tex}
